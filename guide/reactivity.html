<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reactivity | Muban</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Writing components for server-rendered HTML">
    
    <link rel="preload" href="/muban/assets/css/0.styles.c22a2185.css" as="style"><link rel="preload" href="/muban/assets/js/app.eccde4f2.js" as="script"><link rel="preload" href="/muban/assets/js/2.529e4381.js" as="script"><link rel="preload" href="/muban/assets/js/23.86b5bb2f.js" as="script"><link rel="prefetch" href="/muban/assets/js/10.c279dbbc.js"><link rel="prefetch" href="/muban/assets/js/11.d46743a0.js"><link rel="prefetch" href="/muban/assets/js/12.4b06032c.js"><link rel="prefetch" href="/muban/assets/js/13.c312d12c.js"><link rel="prefetch" href="/muban/assets/js/14.195c611e.js"><link rel="prefetch" href="/muban/assets/js/15.b0f80849.js"><link rel="prefetch" href="/muban/assets/js/16.6b0838f1.js"><link rel="prefetch" href="/muban/assets/js/17.69904242.js"><link rel="prefetch" href="/muban/assets/js/18.4ab41efe.js"><link rel="prefetch" href="/muban/assets/js/19.cd821213.js"><link rel="prefetch" href="/muban/assets/js/20.35b3e345.js"><link rel="prefetch" href="/muban/assets/js/21.d40d759e.js"><link rel="prefetch" href="/muban/assets/js/22.9bc474a0.js"><link rel="prefetch" href="/muban/assets/js/24.a5ffec52.js"><link rel="prefetch" href="/muban/assets/js/25.6a61f89b.js"><link rel="prefetch" href="/muban/assets/js/26.4850d495.js"><link rel="prefetch" href="/muban/assets/js/27.92195043.js"><link rel="prefetch" href="/muban/assets/js/28.8c88bb09.js"><link rel="prefetch" href="/muban/assets/js/29.34343d91.js"><link rel="prefetch" href="/muban/assets/js/3.ae47d9c0.js"><link rel="prefetch" href="/muban/assets/js/30.38f9c82b.js"><link rel="prefetch" href="/muban/assets/js/31.52927bd4.js"><link rel="prefetch" href="/muban/assets/js/4.432c0c52.js"><link rel="prefetch" href="/muban/assets/js/5.906d02aa.js"><link rel="prefetch" href="/muban/assets/js/6.963d4001.js"><link rel="prefetch" href="/muban/assets/js/7.1e012450.js"><link rel="prefetch" href="/muban/assets/js/8.1a50c5a7.js"><link rel="prefetch" href="/muban/assets/js/9.714521d0.js">
    <link rel="stylesheet" href="/muban/assets/css/0.styles.c22a2185.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/muban/" class="home-link router-link-active"><!----> <span class="site-name">Muban</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/muban/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/muban/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/muban/api/" class="nav-link">
  Api
</a></div><div class="nav-item"><a href="/muban/changelog/" class="nav-link">
  Changelog
</a></div><div class="nav-item"><a href="/muban/research/" class="nav-link">
  Research
</a></div> <a href="https://github.com/mubanjs/muban" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/muban/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/muban/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/muban/api/" class="nav-link">
  Api
</a></div><div class="nav-item"><a href="/muban/changelog/" class="nav-link">
  Changelog
</a></div><div class="nav-item"><a href="/muban/research/" class="nav-link">
  Research
</a></div> <a href="https://github.com/mubanjs/muban" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/muban/guide/" aria-current="page" class="sidebar-link">Getting started</a></li><li><a href="/muban/guide/app.html" class="sidebar-link">App</a></li><li><a href="/muban/guide/component.html" class="sidebar-link">Component setup</a></li><li><a href="/muban/guide/props.html" class="sidebar-link">Props</a></li><li><a href="/muban/guide/reactivity.html" aria-current="page" class="active sidebar-link">Reactivity</a></li><li><a href="/muban/guide/bindings.html" class="sidebar-link">Bindings</a></li><li><a href="/muban/guide/template.html" class="sidebar-link">Template</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reactivity"><a href="#reactivity" class="header-anchor">#</a> Reactivity</h1> <p>Instead of updating the DOM by hand after manually adding event listeners to manually queried
elements, Muban makes used of the <a href="">@vue/reactivity</a> package to - with the help of some additional
utils and binding setup - create a single data flow from user input to DOM mutations, that take
the component state as the focus.</p> <p>Good articles to read are:</p> <ul><li><a href="https://v3.vuejs.org/guide/composition-api-introduction.html" target="_blank" rel="noopener noreferrer">https://v3.vuejs.org/guide/composition-api-introduction.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://composition-api.vuejs.org/api.html" target="_blank" rel="noopener noreferrer">https://composition-api.vuejs.org/api.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>It would also help to point out similarities and differences in how reactivity is used between Vue
and Muban, since other parts of the component setup are a bit different.</p> <h4 id="similarities"><a href="#similarities" class="header-anchor">#</a> Similarities</h4> <ul><li><p>Both Vue and Muban use a <code>setup</code> function to manage component state.</p></li> <li><p>Component state is managed through <code>ref</code>, <code>reactive</code> and <code>computed</code>.</p></li> <li><p>with the help of <code>watch</code> and <code>watchEffect</code> (from the <code>@vue/runtime-core</code> package) you can react
to changes in the state, and trigger side-effects.</p></li> <li><p>Both have lifecycle &quot;hooks&quot; (e.g. <code>onMounted</code>) that can be used in the <code>setup</code> function.</p></li> <li><p>&quot;hooks&quot; or &quot;compositions&quot; are separate functions with reusable code that can be invoked in the
<code>setup</code> function or other &quot;hooks&quot;, and can make use of both the reactive state and lifecycle hooks.</p></li> <li><p>Incoming props are &quot;reactive&quot;, so they can be used in bindings or be watched, resulting in
targeted DOM updates only to those affected elements.</p></li> <li><p>State is used to define how the DOM should be displayed (although the methods are different).</p></li> <li><p>Passing down reactive data between hooks or templates/bindings has the same caveats with
destructuring and wrapping things in refs.</p></li></ul> <h4 id="differences"><a href="#differences" class="header-anchor">#</a> Differences</h4> <ul><li><p><strong>Vue</strong> creates all elements in the template/JSX, while <strong>Muban</strong> only changes certain elements
with bindings.</p></li> <li><p>In <strong>Vue</strong> and <strong>React</strong>, because they render everything, the data/state flows from top to
bottom. Your props always come from the parent.</p> <p>In <strong>Muban</strong> the rendered HTML is your initial source of truth. Similar-ish to an SSR setup,
the components need to &quot;re-hydrate&quot; their initial state based on the rendered HTML.
This initial state is placed on the elements itself, being passed to / queried from (child)
components directly. Which means that most initial data flows bottom-up from child to parent
components.</p></li> <li><p>In <strong>Vue</strong> and <strong>React</strong>, a <code>ref</code> is a boxed primitive you can assign directly to HTML tags with
the <code>ref=</code> attribute.</p> <p>In <strong>Muban</strong> you also have the <code>data-ref=</code> attribute, and have the same <code>ref</code> in your state, but
they are not linked up. So the concept is the same, but the technical solution is slightly
different. In Muban you define your refs in the component definition (that will query your
<code>data-ref</code> elements), and they become &quot;ref items&quot; that can be used in bindings.</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/muban/guide/props.html" class="prev">
        Props
      </a></span> <span class="next"><a href="/muban/guide/bindings.html">
        Bindings
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/muban/assets/js/app.eccde4f2.js" defer></script><script src="/muban/assets/js/2.529e4381.js" defer></script><script src="/muban/assets/js/23.86b5bb2f.js" defer></script>
  </body>
</html>
